version: '3.2'
services:
  ngrok:
    image: wernight/ngrok
    network_mode: "host"
    stdin_open: true
    tty: true
    environment:
      NGROK_PORT: ${ACTIONS_PORT}
  lunch-roulette:
    build:
      context: .
    environment:
      - PORT=${ACTIONS_PORT}
      - DB_DIRECTORY=database
    ports:
      - "${ACTIONS_PORT}:${ACTIONS_PORT}"
    volumes:
      - type: bind
        target: /database
        source: ./database
      - type: bind
        target: /.env
        source: .env
